!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.Muon=t()}(this,function(){"use strict";var e="0.1.0",t=window.Ractive||("undefined"!=typeof global?global.Ractive:null)||null,n={},i={},a=function(e){return e.attachShadow?e.attachShadow():e.createShadowRoot()},o=function(e,o){if(n[e]&&!i[e]){r("Registering element '"+e+"'.");var s=Object.create(HTMLDivElement.prototype);if(o){var c=!0,l=!1,h=void 0;try{for(var u,d=Object.keys(o)[Symbol.iterator]();!(c=(u=d.next()).done);c=!0){var m=u.value;s[m]=o[m]}}catch(f){l=!0,h=f}finally{try{!c&&d["return"]&&d["return"]()}finally{if(l)throw h}}}var v=n[e];s.muonTemplate=v.getElementsByTagName("template")[0]||null,s.isRactive=v.hasAttribute("ractive"),s.isShadow=v.hasAttribute("shadow"),s.createdCallback=function(){var e=!1;if(this.onPreCreate&&(e=this.onPreCreate()),!e&&this.muonTemplate&&this.muonTemplate.content){var n=this.isShadow?a(this):this;if(this.isRactive&&t){var i=this.ractiveOptions?Object.create(this.ractiveOptions):{};i.el=n,i.template=this.muonTemplate?this.muonTemplate.innerHTML:i.template,i.magic=null!=i.magic?i.magic:!0,this._Ractive=new t(i)}else n.appendChild(this.muonTemplate.content.cloneNode(!0))}return this.setRactiveData=function(e){this.isRactive&&t&&this._Ractive.reset(e)},this.onCreated?this.onCreated():void 0},s.attachedCallback=function(){return this.onAttached?this.onAttached():void 0},s.detachedCallback=function(){return this.onDetached?this.onDetached():void 0},s.attributeChangedCallback=function(e,t,n){return this.onAttributeChanged?this.onAttributeChanged(e,t,n):void 0},i[e]=document.registerElement(e,{prototype:s}),n[e]=void 0}else i[e]&&r("The element '"+e+"' has already been registered! Perhaps you called 'Muon()' on an element with an 'auto-register' attribute?",!0)};o.init=function(e){t=e},o.registerMuonElement=function(e){var t=e.getAttribute("tag-name"),a=e.hasAttribute("auto-register");if(t){if(i[t]||n[t])throw new Error("Unable to register a pre-exisiting custom element definition: '"+t+"'.");if(-1===t.indexOf("-"))throw new Error("Invalid tag name: '"+t+"'. Must contain a '-' (dash) character.");n[t]=e,a&&o(t,{})}else r("Attempted to register a Muon element with no tag name!",!0)};var r=function(t,n){t="string"==typeof t?t:JSON.stringify(t),t="[Muon "+e+"] "+t,n?console.warn(t):console.log(t)},s=Object.create(HTMLElement.prototype);return s.createdCallback=function(){o.registerMuonElement(this)},i["muon-element"]=document.registerElement("muon-element",{prototype:s}),o});