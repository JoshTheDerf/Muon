!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.Muon=t()}(this,function(){"use strict";var e="0.1.0",t=window.Ractive||("undefined"!=typeof global?global.Ractive:null)||null,n={},i={},a=function(e,a){if(n[e]&&!i[e]){r("Registering element '"+e+"'.");var o=Object.create(HTMLDivElement.prototype);if(a){var s=!0,l=!1,c=void 0;try{for(var u,h=Object.keys(a)[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var d=u.value;o[d]=a[d]}}catch(m){l=!0,c=m}finally{try{!s&&h["return"]&&h["return"]()}finally{if(l)throw c}}}var f=n[e];o.muonTemplate=f.getElementsByTagName("template")[0]||null,o.isRactive=f.hasAttribute("ractive"),o.isShadow=f.hasAttribute("shadow"),o.createdCallback=function(){var e=!1;if(this.onPreCreate&&(e=this.onPreCreate()),!e){var n=this.isShadow?this.createShadowRoot():this;if(this.isRactive&&t){var i=this.ractiveOptions?Object.create(this.ractiveOptions):{};i.el=n,i.template=this.muonTemplate?this.muonTemplate.innerHTML:i.template,i.magic=null!=i.magic?i.magic:!0,this._Ractive=new t(i)}else n.appendChild(this.muonTemplate.content.cloneNode(!0))}return this.setRactiveData=function(e){this.isRactive&&t&&this._Ractive.reset(e)},this.onCreated?this.onCreated():void 0},o.attachedCallback=function(){return this.onAttached?this.onAttached():void 0},o.detachedCallback=function(){return this.onDetached?this.onDetached():void 0},o.attributeChangedCallback=function(e,t,n){return this.onAttributeChanged?this.onAttributeChanged(e,t,n):void 0},i[e]=document.registerElement(e,{prototype:o}),n[e]=void 0}else i[e]&&r("The element '"+e+"' has already been registered! Perhaps you called 'Muon()' on an element with an 'auto-register' attribute?",!0)};a.init=function(e){t=e},a.registerMuonElement=function(e){var t=e.getAttribute("tag-name"),o=e.hasAttribute("auto-register");if(t){if(i[t]||n[t])throw new Error("Unable to register a pre-exisiting custom element definition: '"+t+"'.");if(-1===t.indexOf("-"))throw new Error("Invalid tag name: '"+t+"'. Must contain a '-' (dash) character.");n[t]=e,o&&a(t,{})}else r("Attempted to register a Muon element with no tag name!",!0)};var r=function(t,n){t="string"==typeof t?t:JSON.stringify(t),t="[Muon "+e+"] "+t,n?console.warn(t):console.log(t)},o=Object.create(HTMLElement.prototype);return o.createdCallback=function(){a.registerMuonElement(this)},i["muon-element"]=document.registerElement("muon-element",{prototype:o}),a});